# Datadog API credentials (required for ingestion + integration tests)
DATADOG_API_KEY="replace-with-datadog-api-key"
DATADOG_APP_KEY="replace-with-datadog-app-key"
# Datadog site (keep default unless your org uses EU or Gov regions)
DATADOG_SITE="datadoghq.com"

# Ingestion tuning knobs
TRACE_LOOKBACK_HOURS=24
QUALITY_THRESHOLD=0.5
DATADOG_RATE_LIMIT_MAX_SLEEP=10

# Firestore + GCP configuration
# Point to a service-account key JSON or rely on gcloud auth application-default login
GOOGLE_APPLICATION_CREDENTIALS="/absolute/path/to/service-account.json"
GOOGLE_CLOUD_PROJECT="your-gcp-project-id"
# Uncomment when running against a local emulator
# FIRESTORE_EMULATOR_HOST="localhost:8080"
FIRESTORE_COLLECTION_PREFIX="evalforge_"
# Set this to your Firestore database ID if you created a non-default database
FIRESTORE_DATABASE_ID="(default)"

# PII handling
PII_SALT="change-me-for-prod"

# Integration-test helpers (set RUN_LIVE_TESTS=1 to hit real Datadog/Firestore)
RUN_LIVE_TESTS=0
LIVE_TEST_COLLECTION_PREFIX="ci"
LIVE_TEST_CAPTURE_TOLERANCE_MINUTES=15
LIVE_TEST_EXPORT_DESTINATION="eval_backlog"

# =============================================================================
# Extraction Service Configuration (google-genai SDK)
# =============================================================================
# Vertex AI / Gemini location (must match your project's enabled region)
VERTEX_AI_LOCATION="us-central1"

# Gemini model configuration
GEMINI_MODEL="gemini-2.5-flash"
GEMINI_TEMPERATURE=0.2
GEMINI_MAX_OUTPUT_TOKENS=4096

# Batch processing configuration
BATCH_SIZE=50

# Per-trace timeout (seconds) - extraction processing budget for each trace
PER_TRACE_TIMEOUT_SEC=10.0

# =============================================================================
# Cloud Deployment Configuration
# =============================================================================
# GCP region for Cloud Run deployment (should match VERTEX_AI_LOCATION)
GOOGLE_CLOUD_LOCATION="us-central1"

# Cloud Scheduler cron schedule for extraction service (default: every 30 minutes)
# Format: minute hour day-of-month month day-of-week
# Examples:
#   "*/30 * * * *"  - Every 30 minutes
#   "0 * * * *"     - Every hour
#   "0 0 * * *"     - Daily at midnight
EXTRACTION_SCHEDULE="*/30 * * * *"
